(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,a){e.exports=a(353)},164:function(e,t,a){},165:function(e,t,a){},187:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(38),s=a.n(r),o=(a(163),a(164),a(6)),c=a(7),i=a(9),m=a(8),p=a(10),u=(a(165),a(41)),h=a(12),d=a.n(h),f=function(e,t){return d.a.get("/api/init/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return console.log("ERR",e.response.data),e.response.data}))},E=function e(t){if(null===t||"object"!==typeof t||"isActiveClone"in t)return t;var a;for(var n in a=t instanceof Date?new t.constructor:t.constructor(),t)Object.prototype.hasOwnProperty.call(t,n)&&(t.isActiveClone=null,a[n]=e(t[n]),delete t.isActiveClone);return a},g=a(358),b=a(355),C=a(150),v=a(151),y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).closeAbout=function(){e.props.close()},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.show?l.a.createElement(g.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:this.closeAbout,style:{color:"black"}},l.a.createElement(g.a.Header,{className:"bg-primary text-light"},l.a.createElement(g.a.Title,null,"ARTS-CRAFT-BASE v.2.0")),l.a.createElement(g.a.Body,null,l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:4},l.a.createElement("img",{src:"../../arts_craft_base_logo.svg",alt:"logo",className:"abt-logo"}),l.a.createElement("p",null)),l.a.createElement(C.a,{sm:8},l.a.createElement("h4",null,"Administration Tool"),l.a.createElement("br",null),l.a.createElement("p",null,"This tool can administrate all materials as components for your craft projects and the projects themselves."),l.a.createElement("p",null,"Components can be created and configured by using generic templates, that also can be build by your own, to be more flexible!"))),l.a.createElement("hr",null),l.a.createElement("p",{className:"abt-cr"},"(c) 2020 by ",l.a.createElement("em",null,"Juliane Trapp")," & ",l.a.createElement("em",null,"Susanne Vogl")," & ",l.a.createElement("em",null,"Kai Zahn")," & ",l.a.createElement("em",null,"Dirk Biermann"))),l.a.createElement(g.a.Footer,null,l.a.createElement(v.a,{size:"lg",variant:"primary",onClick:this.closeAbout},l.a.createElement("i",{className:"fas fa-times fa-m-a"}),"Close"))):null}}]),t}(n.Component),x=a(361),j=a(363),w=a(359),_=function(e,t){return d.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},O=function(e,t){return d.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},N=(a(32),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("hr",{className:"menu-h-divider"})}}]),t}(n.Component)),k=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).showAbout=function(){console.log("ShowAbout"),e.setState({showAbout:!0})},e.hideAbout=function(){console.log("HideAbout"),e.setState({showAbout:!1})},e.handleLogout=function(){d.a.delete("/api/auth/logout"),e.props.setUser(null)},e.state={showAbout:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("ABT Render"),l.a.createElement("div",null,l.a.createElement(x.a,{collapseOnSelect:!0,expand:"xl",bg:"dark",variant:"dark",fixed:"top",style:{textAlign:"left"}},l.a.createElement(x.a.Brand,null,l.a.createElement("img",{alt:"arts-craft-base logo",src:"../arts_craft_base_logo.svg",width:"40",height:"40",className:"App-logo d-inline-block align-top"})," "),l.a.createElement(x.a.Text,{className:"navbarCaption"},"ARTS CRAFT BASE"),l.a.createElement(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),this.props.user?l.a.createElement(x.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(N,null),l.a.createElement(j.a,{className:"mr-auto"},l.a.createElement(j.a.Link,{href:"/"},l.a.createElement("i",{className:"fas fa-home fa-lg fa-m-a fa-15x fa-fw"}),"Home"),l.a.createElement(w.a,{title:l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-sitemap fa-lg fa-m-a fa-15x fa-fw"}),"Project"),id:"collasible-nav-dropdown"},l.a.createElement(w.a.Item,{href:"/projects"},l.a.createElement("i",{className:"fas fa-list fa-lg fa-a fa-15x fa-fw"}),"All Projects"),l.a.createElement(w.a.Divider,null),l.a.createElement(w.a.Item,{href:"/projects/create"},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a fa-15x fa-fw"}),"Create new Project")),l.a.createElement(w.a,{title:l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-square fa-lg fa-m-a fa-15x fa-fw"}),"Component"),id:"collasible-nav-dropdown"},l.a.createElement(w.a.Item,{href:"/components"},l.a.createElement("i",{className:"fas fa-list fa-lg fa-a fa-15x fa-fw"}),"All Components"),l.a.createElement(w.a.Divider,null),l.a.createElement(w.a.Item,{href:"/components/create"},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a fa-15x fa-fw"}),"Create new Component")),l.a.createElement(w.a,{title:l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-square fa-lg fa-m-a fa-15x fa-fw"}),"Template"),id:"collasible-nav-dropdown"},l.a.createElement(w.a.Item,{href:"/templates"},l.a.createElement("i",{className:"fas fa-list fa-lg fa-a fa-15x fa-fw"}),"All Templates"),l.a.createElement(w.a.Divider,null),l.a.createElement(w.a.Item,{href:"/templates/create"},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a fa-15x fa-fw"}),"Create new Template"))),l.a.createElement(N,null),l.a.createElement(x.a.Text,{style:{padding:"0px",marginRight:"20px"}},l.a.createElement("span",{className:"abtSignedIn fa-m-a"},"Signed in as: ",l.a.createElement("em",null,this.props.user.username))),l.a.createElement(N,null),l.a.createElement(j.a,null,l.a.createElement(w.a,{className:"xxx",title:l.a.createElement("i",{className:"fas fa-ellipsis-v fa-15x fa-fw"}),id:"collasible-nav-dropdown"},l.a.createElement(w.a.Item,{onClick:this.handleLogout},l.a.createElement("i",{className:"fas fa-sign-out-alt fa-lg fa-a fa-15x fa-fw"}),"Logout"),l.a.createElement(w.a.Divider,null),l.a.createElement(w.a.Item,{onClick:this.showAbout},l.a.createElement("i",{className:"fas fa-info-circle fa-lg fa-a fa-15x fa-fw"}),"About")))):l.a.createElement(x.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(j.a,{className:"mr-auto"},l.a.createElement(j.a.Link,{href:"/"},l.a.createElement("i",{className:"fas fa-home fa-lg fa-m-a fa-15x fa-fw"}),"Home")),l.a.createElement(j.a,null,l.a.createElement(w.a,{className:"xxx",title:l.a.createElement("i",{className:"fas fa-ellipsis-v fa-15x fa-fw"}),id:"collasible-nav-dropdown"},l.a.createElement(w.a.Item,{href:"/login"},l.a.createElement("i",{className:"fas fa-sign-in-alt fa-lg fa-a fa-15x fa-fw"}),"Login"),l.a.createElement(w.a.Item,{href:"/signup"},l.a.createElement("i",{className:"fas fa-user-plus fa-lg fa-a fa-15x fa-fw"}),"Signup"),l.a.createElement(w.a.Divider,null),l.a.createElement(w.a.Item,{onClick:this.showAbout},l.a.createElement("i",{className:"fas fa-info-circle fa-lg fa-a fa-15x fa-fw"}),"About"))))),l.a.createElement(y,{show:this.state.showAbout,close:this.hideAbout}))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(x.a,{bg:"dark",variant:"dark",fixed:"bottom",style:{textAlign:"left"}},l.a.createElement(x.a.Brand,{className:"icons",style:{fontSize:"0.9rem",color:"rgb(255,255,255,0.5)",padding:"0rem"}},l.a.createElement("img",{alt:"s logo",src:"../n-logo_w_s.png",className:"d-inline-block align-top"})," ",l.a.createElement("img",{alt:"s logo",src:"../s-logo_w_s.png",className:"d-inline-block align-top"})," ",l.a.createElement("img",{alt:"a logo",src:"../a-logo_w_s.png",className:"d-inline-block align-top"})," ",l.a.createElement("img",{alt:"p logo",src:"../p-logo_w_s.png",className:"d-inline-block align-top"})," ",l.a.createElement("span",{className:"shw-lg span"},"(c) 2020 by ",l.a.createElement("em",null,"Juliane"),"|",l.a.createElement("em",null,"Susanne"),"|",l.a.createElement("em",null,"Kai"),"|",l.a.createElement("em",null,"Dirk")),l.a.createElement("span",{className:"shw-sm span"},"(c) 2020 by ",l.a.createElement("em",null,"J"),"|",l.a.createElement("em",null,"S|"),"|",l.a.createElement("em",null,"K"),"|",l.a.createElement("em",null,"D"))))}}]),t}(n.Component),A=a(45),D=a(360),T=a(364),U=(a(187),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",error:""},a.closeModal=function(){a.props.history.push("/")},a.handleChange=function(e){var t;a.setState((t={},Object(A.a)(t,e.target.name,e.target.value),Object(A.a)(t,"error",void 0),t))},a.handleSubmitLogin=function(e){e.preventDefault(),O(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/projects"))}))},a.handleSubmitSignup=function(e){e.preventDefault(),_(a.state.username,a.state.password).then((function(e){e.message?a.setState({error:e.message}):(a.props.setUser(e),a.props.history.push("/projects"))}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=l.a.createElement("div",{className:"sp-d"},l.a.createElement("br",null),l.a.createElement("p",null,"This tool can administrate all materials as components for your craft projects and display the project as a Mood-Board."),l.a.createElement("p",null,"Components can be created and configured by using generic templates, that also can be build by your own, to be more flexible!")),t=l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:7},l.a.createElement("div",{className:"sp-shw-lg"},e)),l.a.createElement(C.a,{sm:5},l.a.createElement("div",{className:"sp-c"},l.a.createElement("img",{className:"lg",src:"../acb.png",alt:"w"})),l.a.createElement("div",{className:"sp-shw-sm"},e))),l.a.createElement(b.a,{className:"sp-k"},l.a.createElement(C.a,{sm:12,md:6,lg:4},l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:12},l.a.createElement("p",{className:"sp-kt"},"PROJECT"))),l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:4,lg:3},l.a.createElement("div",{className:"sp-c"},l.a.createElement("img",{className:"xlg",src:"../sitemap-solid.png",alt:"k",width:"100%"}))),l.a.createElement(C.a,{sm:11,lg:9},l.a.createElement("div",{className:"sp-kd"},"A project defines a craft project and manages related components that are required for implementation.")))),l.a.createElement(C.a,{sm:12,md:6,lg:4},l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:12},l.a.createElement("p",{className:"sp-kt"},"COMPONENT"))),l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:4,lg:3},l.a.createElement("div",{className:"sp-c"},l.a.createElement("img",{className:"xlg",src:"../square-solid.png",alt:"k",width:"100%"}))),l.a.createElement(C.a,{sm:11,lg:9},l.a.createElement("div",{className:"sp-kd"},"A component defines a material, a tool or a description that can be used to implement the project.")))),l.a.createElement(C.a,{sm:12,md:6,lg:4},l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:12},l.a.createElement("p",{className:"sp-kt"},"TEMPLATE"))),l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:4,lg:3},l.a.createElement("div",{className:"sp-c"},l.a.createElement("img",{className:"xlg",src:"../square-regular.png",alt:"k",width:"100%"}))),l.a.createElement(C.a,{sm:11,lg:9},l.a.createElement("div",{className:"sp-kd"},"A template is used to define the properties of a component and can be created flexibly.")))))),a=l.a.createElement(g.a,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:!0,onHide:this.closeAbout,onEntered:function(){document.getElementById("username").focus()},style:{color:"black"}},l.a.createElement(g.a.Header,{className:"bg-primary text-light"},l.a.createElement(g.a.Title,null,l.a.createElement("i",{className:"fas fa-sign-in-alt fa-a"}),"Login")),l.a.createElement(D.a,{onSubmit:this.handleSubmitLogin},l.a.createElement(g.a.Body,null,l.a.createElement(D.a.Group,null,l.a.createElement(D.a.Label,{htmlFor:"username"},"Username: "),l.a.createElement(D.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),l.a.createElement(D.a.Group,null,l.a.createElement(D.a.Label,{htmlFor:"password"},"Password: "),l.a.createElement(D.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&l.a.createElement(T.a,{body:!0,bg:"danger",text:"white"},this.state.error)),l.a.createElement(g.a.Footer,{style:{justifyContent:"space-between"}},l.a.createElement(v.a,{size:"lg",variant:"danger",onClick:this.closeModal},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-m-a"}),"Cancel"),l.a.createElement(v.a,{size:"lg",variant:"primary",type:"submit"},l.a.createElement("i",{className:"fas fa-sign-in-alt fa-lg fa-m-a"}),"Log in")))),n=l.a.createElement(g.a,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:!0,onHide:this.closeAbout,onEntered:function(){document.getElementById("username").focus()},style:{color:"black"}},l.a.createElement(g.a.Header,{className:"bg-primary text-light"},l.a.createElement(g.a.Title,null,l.a.createElement("i",{className:"fas fa-user-plus fa-a"}),"Signup")),l.a.createElement(D.a,{onSubmit:this.handleSubmitSignup},l.a.createElement(g.a.Body,null,l.a.createElement(D.a.Group,null,l.a.createElement(D.a.Label,{htmlFor:"username"},"Username: "),l.a.createElement(D.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),l.a.createElement(D.a.Group,null,l.a.createElement(D.a.Label,{htmlFor:"password"},"Password: "),l.a.createElement(D.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&l.a.createElement(T.a,{body:!0,bg:"danger",text:"white"},this.state.error)),l.a.createElement(g.a.Footer,{style:{justifyContent:"space-between"}},l.a.createElement(v.a,{size:"lg",variant:"danger",onClick:this.closeModal},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-m-a"}),"Cancel"),l.a.createElement(v.a,{size:"lg",variant:"primary",type:"submit"},l.a.createElement("i",{className:"fas fa-sign-in-alt fa-lg fa-m-a"}),"Sign up"))));return this.props.showLogin||this.props.showSignup?this.props.showLogin?l.a.createElement("div",null,t,a,"}"):this.props.showSignup?l.a.createElement("div",null,t,n,"}"):null:t}}]),t}(l.a.Component)),P=a(356),I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).backRoute=function(){"undefined"===typeof e.props.hideFooter&&e.props.history.push("/projects/".concat(e.props.project._id))},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="undefined"===typeof this.props.hideFooter;return l.a.createElement(T.a,{className:!0===e?"cardForDetail":"cardForDetailView",border:"dark",onClick:this.backRoute},l.a.createElement(T.a.Img,{className:"projectImage",src:this.props.project.imageUrl,alt:"Project Image"}),l.a.createElement(T.a.ImgOverlay,null,l.a.createElement(T.a.Header,{className:"transparentCardHeader",as:"h4"},this.props.project.name||"<unknown>")),!0===e&&l.a.createElement(T.a.Footer,{className:"hoverFooter"},l.a.createElement(T.a.Text,null,"Click for Detail")))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).mapImageUrl=function(e){return e&&e.length>0?e:"/def-p-".concat(Math.floor(6*Math.random()),".png")},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(P.a,null,this.props.projects.map((function(t,a){return t.imageUrl=e.mapImageUrl(t.imageUrl),console.log(t.imageUrl),t.owner===e.props.user._id?l.a.createElement(I,Object.assign({key:t._id,project:t},e.props)):l.a.createElement("div",null)})))}}]),t}(n.Component),R=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).getData=function(){d.a.get("/api/projects").then((function(t){e.setState({projects:t.data})})).catch((function(e){console.log(e)}))},e.state={projects:[]},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-list fa-a"}),"Project Overview"),l.a.createElement(F,Object.assign({projects:this.state.projects,user:this.props.user},this.props)),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",href:"/projects/create"},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a"}),"Create new Project"))}}]),t}(n.Component),L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).backRoute=function(){"undefined"===typeof e.props.hideFooter&&e.props.history.push("/components/".concat(e.props.component._id))},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="undefined"===typeof this.props.hideFooter;return l.a.createElement(T.a,{className:!0===e?"cardForDetail":"cardForDetailView",border:"dark",onClick:this.backRoute},l.a.createElement(T.a.Img,{className:"componentImage",src:this.props.component.imageUrl,alt:"Component Image"}),l.a.createElement(T.a.ImgOverlay,null,l.a.createElement(T.a.Header,{className:"transparentCardHeader",as:"h4"},this.props.component.name||"<unknown>")),!0===e&&l.a.createElement(T.a.Footer,{className:"hoverFooter"},l.a.createElement(T.a.Text,null,"Click for Detail")))}}]),t}(n.Component),B=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).mapImageUrl=function(e){return e&&e.length>0?e:"/def-c-".concat(Math.floor(4*Math.random()),".png")},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(P.a,null,this.props.components.map((function(t,a){return t.imageUrl=e.mapImageUrl(t.imageUrl),t.owner===e.props.user._id?l.a.createElement(L,Object.assign({key:t._id,component:t},e.props)):l.a.createElement("div",null)})))}}]),t}(n.Component),z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).getData=function(){d.a.get("/api/components").then((function(t){e.setState({components:t.data})})).catch((function(e){console.log(e)}))},e.state={components:[]},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log("Components.render"+this.props.location.pathname),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-list fa-a"}),"Component Overview"),l.a.createElement(B,Object.assign({components:this.state.components,user:this.props.user},this.props)),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",href:"/components/create"},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a"}),"Create new Component"))}}]),t}(n.Component),G=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).backRoute=function(){console.log("TCard",e.props.template._id),e.props.history.push("/templates/".concat(e.props.template._id))},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=""===this.props.template.name?"<Template>":this.props.template.name;return l.a.createElement(T.a,{className:"cardForDetail",border:"dark",onClick:this.backRoute},l.a.createElement(T.a.Img,{className:"templateImage",src:this.props.template.imageUrl,alt:"Template Image"}),l.a.createElement(T.a.ImgOverlay,null,l.a.createElement(T.a.Header,{className:"transparentCardHeader",as:"h4"},e)),l.a.createElement(T.a.Footer,{className:"hoverFooter"},l.a.createElement(T.a.Text,null,"Click for Edit")))}}]),t}(n.Component),q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).mapImageUrl=function(e){return e&&e.length>0?e:"/def-t-0.png"},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(P.a,null,this.props.templates.map((function(t,a){return t.imageUrl=e.mapImageUrl(t.imageUrl),l.a.createElement(G,Object.assign({key:t._id,template:t},e.props))})))}}]),t}(n.Component),H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).getData=function(){d.a.get("/api/templates").then((function(t){e.setState({templates:t.data})})).catch((function(e){console.log(e)}))},e.state={templates:[]},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return console.log("Template.render",this.props.location.pathname),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-list fa-a"}),"Template Overview"),l.a.createElement(q,Object.assign({templates:this.state.templates},this.props)),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",href:"/templates/create"},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a"}),"Create new Template"))}}]),t}(n.Component),M=a(362),V=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).closeConfirm=function(t){e.props.close(t)},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.show?l.a.createElement(g.a,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:function(){e.closeConfirm(!1)},style:{color:"black"}},l.a.createElement(g.a.Header,{className:"bg-danger text-light"},l.a.createElement(g.a.Title,null,"Confirmation ...")),l.a.createElement(g.a.Body,null,l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:4,text:"center"},l.a.createElement("i",{className:"fas fa-exclamation-triangle fa-6x "})),l.a.createElement(C.a,{sm:8},l.a.createElement("h4",null,"Do you want to delete"),l.a.createElement("h2",{className:"trunkText"},this.props.title)))),l.a.createElement(g.a.Footer,null,l.a.createElement(v.a,{size:"lg",variant:"primary",onClick:function(){e.closeConfirm(!1)}},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{size:"lg",variant:"danger",onClick:function(){e.closeConfirm(!0)}},l.a.createElement("i",{className:"far fa-trash-alt fa-lg fa-a"}),"Delete"))):null}}]),t}(n.Component),K=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).mapImageUrl=function(e,t){return e&&e.length>0?e:t},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.project.imageUrl=this.mapImageUrl(this.props.project.imageUrl,"/def-p-".concat(Math.floor(6*Math.random()),".png")),l.a.createElement(P.a,null,l.a.createElement(I,Object.assign({key:this.props.project._id,project:this.props.project,hideFooter:!0},this.props)),this.props.components.map((function(t,a){return t.imageUrl=e.mapImageUrl(t.imageUrl,"/def-c-".concat(Math.floor(4*Math.random()),".png")),t.owner===e.props.user._id?l.a.createElement(L,Object.assign({key:t._id,component:t,hideFooter:!0},e.props)):l.a.createElement("div",null)})))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={project:null,error:"",editForm:!1,showConfirm:!1,addComponentForm:!1,showAccordion:!1},a.showConfirmDelete=function(){a.setState({showConfirm:!0})},a.deleteProjectConfirmed=function(e){!0===e&&a.handleDelete(),a.setState({showConfirm:!1})},a.handleDelete=function(){var e=a.state.project._id;a.deleteProject(e)},a.deleteProject=function(e){var t="/api/projects/".concat(e);d.a.delete(t).then((function(){a.props.history.push("/projects")})).catch((function(e){console.log(e)}))},a.toggleEdit=function(){a.setState({editForm:!a.state.editForm})},a.handleChange=function(e){var t=a.state.project;t[e.target.name]=e.target.value,a.setState({project:t})},a.getData=function(){var e=a.props.match.params.id;d.a.get("/api/projects/pop/".concat(e)).then((function(e){a.setState({project:e.data})})).catch((function(e){404===e.response.status&&a.setState({error:e.response.data.message})}))},a.handleSave=function(e){var t=a.props.match.params.id;console.log("PD: name",a.state.project.name),console.log("PD: description",a.state.project.description),console.log("PD: notes",a.state.project.notes),console.log("PD: status",a.state.project.status),d.a.put("/api/projects/".concat(t),{name:a.state.project.name,description:a.state.project.description,notes:a.state.project.notes,imageUrl:a.state.project.imageUrl,owner:a.state.project.owner,status:a.state.project.status,components:a.state.project.components}).then((function(e){console.log("PD-PUT-axios",e),a.setState(null)})).catch((function(e){console.log(e)}))},a.modifyComponents=function(){a.setState({addComponentForm:!a.state.addComponentForm}),a.props.history.push("/projects/assign/".concat(a.state.project._id))},a.handleToggleAccordion=function(){console.log("A-Toggle");var e=!a.state.showAccordion;a.setState({showAccordion:e})},a.handleBackToDetailView=function(){a.setState({editForm:!1,showAccordion:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;if(this.state.error)return l.a.createElement("p",null,this.state.error);if(null===this.state.project)return l.a.createElement("div",null);var t,a,n=!1;this.state.project.owner===this.props.user._id&&(n=!0),this.state.editForm&&n?(a=l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-sitemap fa-a"}),"Project Detail)"),t=l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,{onSubmit:this.handleSubmit},l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Project Name: "),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"name",value:this.state.project.name||"",onChange:this.handleChange}),l.a.createElement(D.a.Label,null,"Image Url:"),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"imageUrl",value:this.state.project.imageUrl||"",onChange:this.handleChange})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Description: "),l.a.createElement(D.a.Control,{style:{minHeight:"50px"},rows:"5",as:"textarea",name:"description",value:this.state.project.description||"",onChange:this.handleChange}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Status:"),l.a.createElement(D.a.Control,{as:"select",name:"status",id:"status",default:this.state.project.status||"New",onChange:this.handleChange},l.a.createElement("option",{value:"New"},"New"),l.a.createElement("option",{value:"Completed"},"Completed"),l.a.createElement("option",{value:"Planned"},"Planned"))),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Notes: "),l.a.createElement(D.a.Control,{rows:"5",as:"textarea",name:"notes",value:this.state.project.notes||"",onChange:this.handleChange}))),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",onClick:function(){e.props.history.push("/projects")}},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",onClick:function(){e.handleBackToDetailView()}},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Details"),l.a.createElement(v.a,{onClick:this.handleSave,className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-save fa-lg fa-a"}),"Save"),l.a.createElement(v.a,{onClick:this.showConfirmDelete,variant:"danger",className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-trash-alt fa-lg fa-a"}),"Delete"),l.a.createElement(v.a,{onClick:this.modifyComponents,variant:"success",className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"fas fa-retweet fa-lg fa-a"}),"Assign/Remove Component"))))):(a=!0===this.state.showAccordion?l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-sitemap fa-a"}),"Project Detail"):l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-sitemap fa-a"}),"Project Mood Board"),t=l.a.createElement(M.a,{defaultActiveKey:"1"},l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(M.a.Toggle,{as:T.a.Header,eventKey:"0",onClick:this.handleToggleAccordion,className:"opaqueCardHeader"},!0===this.state.showAccordion?l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-caret-square-up fa-lg fa-a"}),"Hide project details"):l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-caret-square-down fa-lg fa-a"}),"Show project details")),l.a.createElement(M.a.Collapse,{eventKey:"0"},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,null,l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Project Name: "),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",value:this.state.project.name||""}),l.a.createElement(D.a.Label,null,"Image Url:"),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",value:this.state.project.imageUrl||""})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Description: "),l.a.createElement(D.a.Control,{style:{minHeight:"50px"},readOnly:!0,rows:"5",as:"textarea",value:this.state.project.description||""}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Status"),l.a.createElement(D.a.Control,{readOnly:!0,type:"text",value:this.state.project.status||"New"})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Notes: "),l.a.createElement(D.a.Control,{readOnly:!0,rows:"5",as:"textarea",value:this.state.project.notes||""}))),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",onClick:function(){e.props.history.push("/projects")}},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{onClick:this.toggleEdit,className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-edit fa-lg fa-a"}),"Edit"),l.a.createElement(v.a,{onClick:this.showConfirmDelete,variant:"danger",className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-trash-alt fa-lg fa-a"}),"Delete")))))));var r="Project: ".concat(this.state.project.name?this.state.project.name:"");return l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},a),t,!this.state.showAccordion&&l.a.createElement(K,Object.assign({project:this.state.project,components:this.state.project.components},this.props)),l.a.createElement(V,{show:this.state.showConfirm,close:this.deleteProjectConfirmed,title:r}))}}]),t}(n.Component),W=a(31),X=a.n(W),Z=a(47),$=a(46),Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={component:{name:"",description:"",imageUrl:"",template:""},error:"",editForm:!1,showConfirm:!1,templates:[],sel_template:{}},a.showConfirmDelete=function(){a.setState({showConfirm:!0})},a.deleteComponentConfirmed=function(e){!0===e&&a.handleDelete(),a.setState({showConfirm:!1})},a.handleDelete=function(){var e=a.state.component._id;a.deleteComponent(e)},a.deleteComponent=function(e){var t="/api/components/".concat(e);d.a.delete(t).then((function(){a.props.history.push("/components")})).catch((function(e){console.log(e)}))},a.toggleEdit=function(){a.setState({editForm:!a.state.editForm})},a.handleChange=function(e){var t=a.state.component;t[e.target.name]=e.target.value,a.setState({component:t})},a.getAllData=Object($.a)(X.a.mark((function e(){var t,n,l,r,s,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.next=3,Promise.all([d.a.get("/api/components/".concat(t)),d.a.get("/api/templates")]);case 3:n=e.sent,l=Object(Z.a)(n,2),r=l[0],s=l[1],o=s.data.filter((function(e){return e._id.toString()===r.data.template})),console.log("CAS: component",r.data),console.log("CAS: templates",s.data),console.log("CAS: seltemp",o),a.setState({component:r.data,templates:s.data,sel_template:o[0]});case 12:case"end":return e.stop()}}),e)}))),a.handleSave=function(e){var t=a.props.match.params.id;console.log("PUT: ",a.state.component),d.a.put("/api/components/".concat(t),a.state.component).then((function(e){a.setState({component:e.data,editForm:!1}),console.log(e)})).catch((function(e){console.log(e)}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllData()}},{key:"render",value:function(){var e=this;if(this.state.error)return l.a.createElement("p",null,this.state.error);if(null===this.state.component)return l.a.createElement("div",null);var t=!1;this.state.component.owner===this.props.user._id&&(t=!0);var a,n="<unknown>";return this.state.sel_template&&(n=this.state.sel_template.name),a=this.state.editForm&&t?l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,null,l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Component Name: "),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"name",value:this.state.component.name||"",onChange:this.handleChange})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Description: "),l.a.createElement(D.a.Control,{style:{minHeight:"50px"},rows:"5",as:"textarea",name:"description",value:this.state.component.description||"",onChange:this.handleChange}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Image:"),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"imageUrl",value:this.state.component.imageUrl,onChange:this.handleChange})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Template: "),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",value:n||"<unknown>"}))),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",onClick:function(){e.props.history.push("/components")}},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{onClick:this.handleSave,className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-save fa-lg fa-a"}),"Save"),l.a.createElement(v.a,{onClick:this.showConfirmDelete,variant:"danger",className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-trash-alt fa-lg fa-a"}),"Delete")))):l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,null,l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Component Name: "),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",value:this.state.component.name})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Description: "),l.a.createElement(D.a.Control,{style:{minHeight:"50px"},readOnly:!0,rows:"5",as:"textarea",value:this.state.component.description||""}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,null,"Image: "),l.a.createElement(D.a.Control,{readOnly:!0,type:"text",value:this.state.component.imageUrl})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,null,"Template: "),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",value:n||"<unknown>"}))),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",onClick:function(){e.props.history.push("/components")}},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{onClick:this.toggleEdit,className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-edit fa-lg fa-a"}),"Edit"),l.a.createElement(v.a,{onClick:this.showConfirmDelete,variant:"danger",className:"mr-2 mb-1",size:"lg"},l.a.createElement("i",{className:"far fa-trash-alt fa-lg fa-a"}),"Delete")))),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-square fa-a"}),"Component Detail"),a,l.a.createElement(T.a,{style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null)),l.a.createElement(V,{show:this.state.showConfirm,close:this.deleteComponentConfirmed,title:"Component"}))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.handleCancel=function(e){a.props.history.push("/projects")},a.handleSubmit=function(e){e&&e.preventDefault(),d.a.post("/api/projects/create",{name:a.state.name,owner:a.state.owner,description:a.state.description,imageUrl:a.state.imageUrl,notes:a.state.notes,status:a.state.status}).then((function(e){a.props.history.push("/projects")})).catch((function(e){console.log(e)})),a.setState({submitted:!0})},a.state={name:"",owner:a.props.user,description:"",imageUrl:"",notes:"",components:[],status:"New"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-sitemap fa-a"}),"Project Create"),l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,{onSubmit:this.handleSubmit},l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,{htmlFor:"name"},"Project Name: "),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"name",id:"name",value:this.state.name,onChange:this.handleChange}),l.a.createElement(D.a.Label,{htmlFor:"imageUrl"},"Image Url:"),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"imageUrl",value:this.state.imageUrl,onChange:this.handleChange})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,{htmlFor:"description"},"Description: "),l.a.createElement(D.a.Control,{style:{minHeight:"50px"},rows:"5",as:"textarea",name:"description",id:"description",value:this.state.description,onChange:this.handleChange}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,{htmlFor:"status"},"Status:"),l.a.createElement(D.a.Control,{as:"select",name:"status",id:"status",onChange:this.handleChange},l.a.createElement("option",null,"New"),l.a.createElement("option",null,"Planned"),l.a.createElement("option",null,"Completed"))),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,{htmlFor:"componentNotes"},"Notes: "),l.a.createElement(D.a.Control,{rows:"5",as:"textarea",type:"text",name:"notes",id:"template",value:this.state.notes,onChange:this.handleChange}))),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",type:"submit",onClick:this.handleCancel},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",type:"submit"},l.a.createElement("i",{className:"far fa-save fa-lg fa-a"}),"Submit new Project")))),l.a.createElement(T.a,{style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null)),this.state.error&&l.a.createElement(T.a,{body:!0,bg:"danger",text:"white"},this.state.error))}}]),t}(n.Component),ee=a(357),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChangeTemplate=function(e){var t=e.target.value[0],n=E(a.state.templates[t]);console.log("change template",e.target,e.target.name,JSON.stringify(n)),a.setState({sel_template:n})},a.handleChangeComponent=function(e){console.log("entry new component",e.target,e.target.name,e.target.value);var t=a.state.component;t[e.target.name]=e.target.value,a.setState({component:t})},a.handleChangeCheck=function(e){var t=!a.state.continueCreate;console.log("isChecked",t),a.setState({continueCreate:t})},a.handleCancel=function(e){a.props.history.push("/components")},a.handleSubmit=function(e){e&&e.preventDefault(),console.log("SUBMIT COMP",JSON.stringify(a.state)),d.a.post("/api/components/create",{name:a.state.component.name,owner:a.state.component.owner,description:a.state.component.description,imageUrl:a.state.component.imageUrl,template:a.state.sel_template}).then((function(e){if(console.log("then after post"),a.state.continueCreate){var t={name:"",description:"",owner:a.props.user,imageUrl:"",template:{}};a.setState({component:t})}else a.props.history.push("/components")})).catch((function(e){console.log(e)})),a.setState({submitted:!0})},a.getData=function(){d.a.get("/api/templates").then((function(e){var t={};e.data[0]&&(t=E(e.data[0])),a.setState({templates:e.data,sel_template:t})})).catch((function(e){console.log(e)}))},a.state={component:{name:"",description:"",imageUrl:"",owner:a.props.user,template:{}},continueCreate:!0,templates:[],sel_template:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){console.log("CCWT.comp",this.state.component),console.log("CCWT.temp",this.state.templates);var e=this.state.sel_template.description||"",t=this.state.continueCreate;return console.log("ICX",t),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-square fa-a"}),"Create Component"),l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"left"}},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,{onSubmit:this.handleSubmit},l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,{htmlFor:"componentName"},"Component Name: "),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"name",id:"name",value:this.state.component.name,onChange:this.handleChangeComponent})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,{htmlFor:"description"},"Description: "),l.a.createElement(D.a.Control,{style:{minHeight:"50px"},rows:"5",as:"textarea",name:"description",id:"description",value:this.state.component.description,onChange:this.handleChangeComponent}))),l.a.createElement(D.a.Row,null,l.a.createElement(D.a.Group,{as:C.a,md:"4"},l.a.createElement(D.a.Label,{htmlFor:"imageUrl"},"Image Url:"),l.a.createElement(D.a.Control,{as:"input",type:"text",name:"imageUrl",id:"imageUrl",value:this.state.component.imageUrl,onChange:this.handleChangeComponent})),l.a.createElement(D.a.Group,{as:C.a,md:"8"},l.a.createElement(D.a.Label,{htmlFor:"template"},"Template:"),l.a.createElement(ee.a,null,l.a.createElement(D.a.Control,{style:{flexGrow:2},as:"select",name:"c_all_template",onChange:this.handleChangeTemplate},this.state.templates.map((function(e,t){return l.a.createElement("option",{key:"TM_".concat(t,"_").concat(e._id),value:[t,e._id]},e.name)}))),l.a.createElement(D.a.Control,{style:{flexGrow:4},readOnly:!0,as:"input",type:"text",id:"template",name:"c_sel_template_desc",value:e||""})))),l.a.createElement(D.a.Row,null,l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",type:"submit",onClick:this.handleCancel},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",type:"submit"},l.a.createElement("i",{className:"far fa-save fa-lg fa-a"}),"Submit new Component"),l.a.createElement(D.a.Check,{style:{marginTop:"10px"},type:"switch",name:"continueCreate",label:"Continue Component Create",id:"swt_continue_create",checked:t,onChange:this.handleChangeCheck}))))),this.state.error&&l.a.createElement(T.a,{body:!0,bg:"danger",text:"white"},this.state.error))}}]),t}(n.Component),ae=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.props.handleChange(e.props.idx,t.target.value,e.props.uniqueKey)},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="".concat(this.props.label[0].toUpperCase()).concat(this.props.label.slice(1)),t=[5,7];console.log("TE",this.props);var a=this.props.readonly||!1;return l.a.createElement("div",null,l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(D.a.Label,{column:!0,sm:t[0]},e,":"),l.a.createElement(C.a,{sm:t[1]},l.a.createElement(D.a.Control,{as:"input",type:this.props.eltype,name:e,readOnly:a,id:"txb_".concat(this.props.uniqueKey),placeholder:"Enter ".concat(e),value:this.props.value||"",onChange:this.handleChange}))))}}]),t}(n.Component),ne=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.props.handleChange(e.props.idx,!e.props.value,e.props.uniqueKey)},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="".concat(this.props.label[0].toUpperCase()).concat(this.props.label.slice(1));return l.a.createElement("div",null,l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(D.a.Label,{column:!0,sm:"8"},e,":"),l.a.createElement(C.a,{sm:"4"},l.a.createElement(D.a.Check,{style:{marginTop:"10px"},type:"switch",id:"swt_".concat(this.props.uniqueKey),label:"",checked:this.props.value,onChange:this.handleChange}))))}}]),t}(n.Component),le=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleFixedValueChange=function(t,a,n){e.props.update(e.props.idx,"fp",t,a)},e.handleVariableValueChange=function(t,a,n){e.props.update(e.props.idx,"vp",t,a)},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[[],[]];return this.props.curElement.variableProps.forEach((function(e,a){t[a%2].push({idx:a,prop:e})})),l.a.createElement("div",null,l.a.createElement(T.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.125)",marginBottom:"5px",textAlign:"right"},className:"ElementRow"},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,null,l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:"1",style:{textAlign:"left"}},l.a.createElement(v.a,{size:"md",variant:"danger",onClick:function(){e.props.delete(e.props.idx)}},l.a.createElement("i",{className:"far fa-trash-alt fa-lg"})),l.a.createElement(D.a.Label,{column:!0,sm:"12"},l.a.createElement("b",null,this.props.curElement.element))),l.a.createElement(C.a,{sm:"3"},l.a.createElement(ae,{idx:0,uniqueKey:"F0".concat(this.props.idx),eltype:this.props.curElement.fixedProps[0].typ,label:this.props.curElement.fixedProps[0].prop,value:this.props.curElement.fixedProps[0].val||"",handleChange:this.handleFixedValueChange}),l.a.createElement(ae,{idx:1,uniqueKey:"F1".concat(this.props.idx),eltype:this.props.curElement.fixedProps[1].typ,label:this.props.curElement.fixedProps[1].prop,value:this.props.curElement.fixedProps[1].val||"",handleChange:this.handleFixedValueChange}),l.a.createElement(ae,{idx:2,uniqueKey:"F2".concat(this.props.idx),eltype:this.props.curElement.fixedProps[2].typ,label:this.props.curElement.fixedProps[2].prop,value:this.props.curElement.fixedProps[2].val||"",handleChange:this.handleFixedValueChange})),l.a.createElement(C.a,{sm:"2"},l.a.createElement(ne,{idx:3,uniqueKey:"F3".concat(this.props.idx),eltype:this.props.curElement.fixedProps[3].typ,label:this.props.curElement.fixedProps[3].prop,value:this.props.curElement.fixedProps[3].val||!1,handleChange:this.handleFixedValueChange}),l.a.createElement(ne,{idx:4,uniqueKey:"F4".concat(this.props.idx),eltype:this.props.curElement.fixedProps[4].typ,label:this.props.curElement.fixedProps[4].prop,value:this.props.curElement.fixedProps[4].val||!1,handleChange:this.handleFixedValueChange})),l.a.createElement(C.a,{sm:"3"},t[0].map((function(t,a){return"checkbox"===t.prop.typ?l.a.createElement(ne,{key:"IE".concat(t.idx).concat(e.props.idx),idx:t.idx,uniqueKey:"V".concat(t.idx).concat(e.props.idx),eltype:t.prop.typ,label:t.prop.prop,value:t.prop.val||!1,handleChange:e.handleVariableValueChange}):l.a.createElement(ae,{key:"IE".concat(t.idx).concat(e.props.idx),idx:t.idx,uniqueKey:"V".concat(t.idx).concat(e.props.idx),eltype:t.prop.typ,label:t.prop.prop,value:t.prop.val||"",handleChange:e.handleVariableValueChange})}))),l.a.createElement(C.a,{sm:"3"},t[1].map((function(t,a){return"checkbox"===t.prop.typ?l.a.createElement(ne,{key:"IE".concat(t.idx).concat(e.props.idx),idx:t.idx,uniqueKey:"V".concat(t.idx).concat(e.props.idx),eltype:t.prop.typ,label:t.prop.prop,value:t.prop.val||!1,handleChange:e.handleVariableValueChange}):l.a.createElement(ae,{key:"IE".concat(t.idx).concat(e.props.idx),idx:t.idx,uniqueKey:"V".concat(t.idx).concat(e.props.idx),eltype:t.prop.typ,label:t.prop.prop,value:t.prop.val||"",handleChange:e.handleVariableValueChange})}))))))))}}]),t}(n.Component),re=a(155),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleColorChange=function(e){a.setState({background:e.hex})},a.closeConfirm=function(e){console.log("BKG",a.state.background),a.props.close(e,a.state.background)},a.state={background:e.hex},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.show?l.a.createElement(g.a,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.props.show,onHide:function(){e.closeConfirm(!1)}},l.a.createElement(g.a.Header,{className:"bg-primary text-light"},l.a.createElement(g.a.Title,null,l.a.createElement("i",{className:"fas fa-palette fa-a"})," Color Picker ...")),l.a.createElement(g.a.Body,{className:"text-dark"},l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:3,text:"center"},l.a.createElement("h4",null,"Sample:"),l.a.createElement("p",null),l.a.createElement(T.a,{border:"dark",style:{backgroundColor:"".concat(this.state.background),width:"8rem",height:"8rem"}})),l.a.createElement(C.a,{sm:9},l.a.createElement("div",null,l.a.createElement(re.SketchPicker,{style:{boxShadow:"0px !important"},disableAlpha:!0,width:"400",color:this.state.background,onChange:this.handleColorChange}))))),l.a.createElement(g.a.Footer,null,l.a.createElement(v.a,{size:"lg",variant:"danger",onClick:function(){e.closeConfirm(!1)}},l.a.createElement("i",{className:"fas fa-times fa-a"}),"CANCEL"),l.a.createElement(v.a,{size:"lg",variant:"success",onClick:function(){e.closeConfirm(!0)}},l.a.createElement("i",{className:"fas fa-check fa-a"}),"ACCEPT"))):null}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChangeElementOverview=function(e){var t=a.state.tc_all_elements.findIndex((function(t){return t._id===e.target.value}));a.setState({tc_sel_element_idx:t})},a.handleChangeFixedProperties=function(e){a.setState({tc_sel_element_fp_idx:e.target.value})},a.handleChangeVariableProperties=function(e){a.setState({tc_sel_element_vp_idx:e.target.value})},a.handleUpdateElement=function(e,t,n,l){var r=a.state.tc_add_elements[e];"fp"===t?r.fixedProps[n].val=l:r.variableProps[n].val=l;var s=a.state.tc_add_elements.slice();a.setState({tc_add_elements:s})},a.showConfirmColorChange=function(){a.setState({tc_showColorConfirm:!0})},a.handleColorChangeConfirmed=function(e,t){},a.handleAddNewElement=function(){var e=a.state.tc_all_elements[a.state.tc_sel_element_idx],t=a.state.tc_add_elements.slice();t.push(E(e)),a.setState({tc_add_elements:t})},a.showConfirmDeleteElement=function(e){a.setState({tc_showConfirmDeleteElement:!0,idxOfElementToDelete:e})},a.showConfirmDeleteTemplate=function(e){a.setState({tc_showConfirmDeleteTemplate:!0})},a.handleDeleteObjectConfirmed=function(e){if(a.state.tc_showConfirmDeleteElement){var t=a.state.tc_add_elements.filter((function(t,n){return!0!==e||a.state.idxOfElementToDelete!==n}));a.setState({tc_showConfirmDeleteElement:!1,idxOfElementToDelete:void 0,tc_add_elements:t})}if(a.state.tc_showConfirmDeleteTemplate)if(!0===e){var n="/api/templates/".concat(a.state.tc_curTemplateIdx);d.a.delete(n).then((function(){a.props.history.push("/templates")})).catch((function(e){console.log(e)}))}else a.setState({tc_showConfirmDeleteTemplate:!1})},a.handleCancelCreate=function(){a.props.history.push("/templates")},a.handleCloneTemplate=function(){console.log("CREATE");var e=a.state.tc_name.split("__")[0]+"__"+Date.now().valueOf();a.handleCreateNewTemplate("".concat(e))},a.handleSubmitTemplate=function(e){e&&e.preventDefault(),a.state.tc_curTemplateIdx?(console.log("UPDATE",a.state.tc_curTemplateIdx),a.handleUpdateCurrentTemplate()):(console.log("CREATE"),a.handleCreateNewTemplate(a.state.tc_name))},a.handleUpdateCurrentTemplate=function(){d.a.put("/api/templates/".concat(a.state.tc_curTemplateIdx),{info:"UpdateTemplate",data:{name:a.state.tc_name,owner:a.state.tc_owner,description:a.state.tc_description,imageUrl:a.state.tc_imageUrl,elements:a.state.tc_add_elements}}).then((function(e){a.props.history.push("/templates")})).catch((function(e){console.log("PUT-ERR",e)}))},a.handleCreateNewTemplate=function(e){d.a.post("/api/templates/create",{info:"CreateTemplate",data:{name:e,owner:a.state.tc_owner,description:a.state.tc_description,imageUrl:a.state.tc_imageUrl,elements:a.state.tc_add_elements}}).then((function(e){a.props.history.push("/templates")})).catch((function(e){console.log("POST-ERR",e)}))},a.handleChangeTemplate=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.getAllData=Object($.a)(X.a.mark((function e(){var t,n,l,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TMPID",a.state.tc_curTemplateIdx),e.next=3,Promise.all([d.a.get("/api/templates/elements"),d.a.get("/api/templates/".concat(a.state.tc_curTemplateIdx))]);case 3:t=e.sent,n=Object(Z.a)(t,2),l=n[0],r=n[1],a.setState({tc_name:r.data.name||"",tc_description:r.data.description||"",tc_imageUrl:r.data.imageUrl||"",tc_add_elements:r.data.elements||[],tc_all_elements:l.data||[],tc_loading:!1});case 8:case"end":return e.stop()}}),e)}))),a.getElemData=Object($.a)(X.a.mark((function e(){var t,n,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d.a.get("/api/templates/elements")]);case 2:t=e.sent,n=Object(Z.a)(t,1),l=n[0],console.log("ALL",l.data),a.setState({tc_name:"",tc_description:"",tc_imageUrl:"",tc_add_elements:[],tc_all_elements:l.data||[],tc_loading:!1});case 7:case"end":return e.stop()}}),e)}))),a.state={tc_owner:a.props.user,tc_curTemplateIdx:a.props.match.params.id||void 0,tc_name:"",tc_description:"",tc_imageUrl:"",tc_all_elements:[{description:"",variableProps:[{typ:"",disp:""}],fixedProps:[{typ:"",disp:""}]}],tc_add_elements:[],tc_sel_element_idx:0,tc_sel_element_fp_idx:0,tc_sel_element_vp_idx:0,tc_showConfirmDeleteElement:!1,tc_showConfirmDeleteTemplate:!1,tc_showColorConfirm:!1,tc_loading:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.tc_curTemplateIdx?this.getAllData():this.getElemData()}},{key:"render",value:function(){var e=this,t=this.state.tc_all_elements[this.state.tc_sel_element_idx].description,a=this.state.tc_all_elements[this.state.tc_sel_element_idx].fixedProps[this.state.tc_sel_element_fp_idx].disp,n=this.state.tc_all_elements[this.state.tc_sel_element_idx].variableProps[this.state.tc_sel_element_vp_idx].disp,r=this.state.tc_curTemplateIdx&&this.state.tc_loading,s="";return this.state.tc_showConfirmDeleteElement&&(s="Element: ".concat(this.state.idxOfElementToDelete?this.state.tc_add_elements[this.state.idxOfElementToDelete].element:"")),this.state.tc_showConfirmDeleteTemplate&&(s="Template: ".concat(this.state.tc_name?this.state.tc_name:"")),l.a.createElement("div",null,r?l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"far fa-square fa-a"}),"Template ",this.state.tc_curTemplateIdx?"Edit":"Create"),l.a.createElement(b.a,{className:"justify-content-md-center"},l.a.createElement(C.a,{sm:2},l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"center"}},l.a.createElement(T.a.Body,null,l.a.createElement(T.a.Text,null,"Loading ...")))))):l.a.createElement("div",null,l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"far fa-square fa-a"}),"Template ",this.state.tc_curTemplateIdx?"Edit":"Create"),l.a.createElement(T.a,{text:"dark",style:{marginBottom:"10px",textAlign:"right"}},l.a.createElement(T.a.Body,null,l.a.createElement(D.a,{onSubmit:this.handleSubmitTemplate},l.a.createElement(b.a,null,l.a.createElement(C.a,{sm:"4"},l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(D.a.Label,{column:!0,sm:"3"},"Template Name:"),l.a.createElement(C.a,{sm:"9"},l.a.createElement(D.a.Control,{as:"input",type:"text",name:"tc_name",placeholder:"Enter Name",value:this.state.tc_name,onChange:this.handleChangeTemplate}))),l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(D.a.Label,{column:!0,sm:"3"},"Description:"),l.a.createElement(C.a,{sm:"9"},l.a.createElement(D.a.Control,{style:{minHeight:"50px"},rows:"3",as:"textarea",name:"tc_description",placeholder:"Enter Description",value:this.state.tc_description,onChange:this.handleChangeTemplate}))),l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(D.a.Label,{column:!0,sm:"3"},"Image Url:"),l.a.createElement(C.a,{sm:"9"},l.a.createElement(D.a.Control,{as:"input",type:"text",name:"tc_imageUrl",placeholder:"Enter Image Url",value:this.state.tc_imageUrl,onChange:this.handleChangeTemplate})))),l.a.createElement(C.a,{sm:"8"},l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(C.a,{sm:"1"}),l.a.createElement(D.a.Label,{column:!0,sm:"11",style:{textAlign:"left"}},l.a.createElement("h2",null,"Element Overview"))),l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(C.a,{sm:"1"}),l.a.createElement(D.a.Label,{column:!0,sm:"2"},"Element Type:"),l.a.createElement(C.a,{sm:"4"},l.a.createElement(ee.a,null,l.a.createElement(D.a.Control,{style:{flexGrow:2},as:"select",name:"tc_sel_element_type",onChange:this.handleChangeElementOverview},this.state.tc_all_elements.map((function(e,t){return l.a.createElement("option",{key:"ET_".concat(t,"_").concat(e._id),value:e._id},e.element)}))),l.a.createElement(D.a.Control,{style:{flexGrow:3},readOnly:!0,as:"input",type:"text",name:"s_element_desc",value:t}))),l.a.createElement(D.a.Label,{column:!0,sm:"2"},"Fixed Props:"),l.a.createElement(C.a,{sm:"3"},l.a.createElement(ee.a,null,l.a.createElement(D.a.Control,{as:"select",name:"elementFixedProps",onChange:this.handleChangeFixedProperties},this.state.tc_all_elements[this.state.tc_sel_element_idx].fixedProps.map((function(t,a){var n="".concat(t.prop);return l.a.createElement("option",{key:"FP_".concat(a,"_").concat(e.state.tc_all_elements[e.state.tc_sel_element_idx]._id),value:a},n)}))),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",name:"elementFixedPropsType",value:a})))),l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(C.a,{sm:"7"}),l.a.createElement(D.a.Label,{column:!0,sm:"2"},"Variable Props:"),l.a.createElement(C.a,{sm:"3"},l.a.createElement(ee.a,null,l.a.createElement(D.a.Control,{as:"select",name:"elementVariableProps",onChange:this.handleChangeVariableProperties},this.state.tc_all_elements[this.state.tc_sel_element_idx].variableProps.map((function(t,a){var n="".concat(t.prop);return l.a.createElement("option",{key:"VP_".concat(a,"_").concat(e.state.tc_all_elements[e.state.tc_sel_element_idx]._id),value:a},n)}))),l.a.createElement(D.a.Control,{readOnly:!0,as:"input",type:"text",name:"elementVariablePropsType",value:n})))))),l.a.createElement(b.a,{style:{textAlign:"left"}},l.a.createElement(C.a,{sm:"4"},this.state.tc_curTemplateIdx?l.a.createElement("div",null,l.a.createElement(v.a,{size:"lg",variant:"primary",className:"mr-2 mb-1",onClick:this.handleCancelCreate},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{size:"lg",variant:"primary",className:"mr-2 mb-1",type:"submit"},l.a.createElement("i",{className:"far fa-save fa-lg fa-a"}),"Update"),l.a.createElement(v.a,{size:"lg",variant:"success",className:"mr-2 mb-1",onClick:this.handleCloneTemplate},l.a.createElement("i",{className:"far fa-clone fa-lg fa-a"}),"Clone"),l.a.createElement(v.a,{size:"lg",variant:"danger",className:"mr-2 mb-1",onClick:function(){e.showConfirmDeleteTemplate(e.state.tc_curTemplateIdx)}},l.a.createElement("i",{className:"far fa-trash-alt fa-lg fa-a"}),"Delete")):l.a.createElement("div",null,l.a.createElement(v.a,{size:"lg",variant:"primary",className:"mr-2 mb-1",onClick:this.handleCancelCreate},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{size:"lg",variant:"primary",className:"mr-2 mb-1",type:"submit"},l.a.createElement("i",{className:"far fa-save fa-lg fa-a"}),"Submit"))),l.a.createElement(C.a,{sm:"8"},l.a.createElement(D.a.Group,{as:b.a},l.a.createElement(C.a,{sm:"1"}),l.a.createElement(C.a,{sm:"11"},l.a.createElement(v.a,{size:"lg",variant:"success",onClick:this.handleAddNewElement},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a"}),"Add selected Element")))))))),this.state.tc_add_elements.map((function(t,a){return l.a.createElement(le,{key:"AE_".concat(a),idx:a,delete:e.showConfirmDeleteElement,update:e.handleUpdateElement,curElement:t})})),this.state.error&&l.a.createElement(T.a,{body:!0,bg:"danger",text:"white"},this.state.error),l.a.createElement(V,{show:this.state.tc_showConfirmDeleteElement||this.state.tc_showConfirmDeleteTemplate,close:this.handleDeleteObjectConfirmed,title:s}),l.a.createElement(se,{show:this.state.tc_showColorConfirm,close:this.handleColorChangeConfirmed,hex:this.state.background})))}}]),t}(n.Component),ce=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).backRoute=function(){},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement("i",{className:"far fa-check-square"}),a=l.a.createElement("i",{className:"far fa-square"});return l.a.createElement(T.a,{className:"cardForDetail",border:"dark",onClick:function(){e.props.onStatusChange(e.props.cardId,e.props.component._id)}},l.a.createElement(T.a.Img,{className:"componentImage",src:this.props.component.imageUrl,alt:"Component Image"}),l.a.createElement(T.a.ImgOverlay,null,l.a.createElement(T.a.Header,{className:"transparentCardHeader",as:"h4"},this.props.cardassigned?t:a," ",this.props.component.name||"<unknown>")),l.a.createElement(T.a.Footer,{className:"hoverFooter"},l.a.createElement(T.a.Text,null,"Click toggel Assignment")))}}]),t}(n.Component),ie=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).mapImageUrl=function(e){return e&&e.length>0?e:"/def-c-".concat(Math.floor(4*Math.random()),".png")},e.state={},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(P.a,null,this.props.components.map((function(t,a){return t.imageUrl=e.mapImageUrl(t.imageUrl),t.owner===e.props.user._id?l.a.createElement(ce,Object.assign({key:t._id,component:t,cardId:a,cardassigned:e.props.cardstatus[a]},e.props)):l.a.createElement("div",null)})))}}]),t}(n.Component),me=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).getAllData=Object($.a)(X.a.mark((function t(){var a,n,l,r,s,o;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.next=3,Promise.all([d.a.get("/api/projects/".concat(a)),d.a.get("/api/components")]);case 3:n=t.sent,l=Object(Z.a)(n,2),r=l[0],s=l[1],o=[],s.data.forEach((function(e,t){o[t]=r.data.components.includes(e._id.toString())})),console.log("CAS: project.name",r.data),console.log("CAS: component.name",s.data),e.setState({components:s.data,project:r.data,cardstatus:o,isLoading:!1});case 12:case"end":return t.stop()}}),t)}))),e.handleStatusChange=function(t){var a=e.state.cardstatus.slice();a[t]=!0!==a[t],e.setState({cardstatus:a})},e.handleAssignSubmit=function(){var t=[];e.state.cardstatus.forEach((function(a,n){a&&t.push(e.state.components[n]._id)}));var a=e.props.match.params.id;console.log("CAS: project.name",e.state.project),d.a.put("/api/projects/".concat(a),{name:e.state.project.name,description:e.state.project.description,notes:e.state.project.notes,owner:e.state.project.owner,status:e.state.project.status,components:t}).then((function(t){e.props.history.push("/projects/".concat(a))})).catch((function(e){console.log(e)}))},e.handleCancel=function(t){var a=e.props.match.params.id;e.props.history.push("/projects/".concat(a))},e.state={components:[],cardstatus:[],project:{},isLoading:!0},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllData()}},{key:"render",value:function(){return l.a.createElement("div",null,!0===this.state.isLoading?l.a.createElement("div",null," "):l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h2",{style:{textAlign:"left",marginBottom:"10px"}},l.a.createElement("i",{className:"fas fa-list fa-a"}),"Component Assignment"),l.a.createElement(ie,Object.assign({onStatusChange:this.handleStatusChange,components:this.state.components,cardstatus:this.state.cardstatus,user:this.props.user},this.props)),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"primary",type:"submit",onClick:this.handleCancel},l.a.createElement("i",{className:"far fa-window-close fa-lg fa-a"}),"Cancel"),l.a.createElement(v.a,{className:"mr-2 mb-1",size:"lg",variant:"success",onClick:this.handleAssignSubmit},l.a.createElement("i",{className:"far fa-plus-square fa-lg fa-a"}),"Assign selected Component(s)")))}}]),t}(n.Component),pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a.projectsRoute=function(e){return console.log("projectsRoute",e),a.state.user?l.a.createElement(R,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.projectsDetailRoute=function(e){return console.log("projectsDetailRoute",e),a.state.user?l.a.createElement(J,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.projectsAssignRoute=function(e){return console.log("projectsAssignRoute",e),a.state.user?l.a.createElement(me,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.projectsCreateRoute=function(e){return console.log("projectsCreateRoute",e),a.state.user?l.a.createElement(Y,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.componentsRoute=function(e){return console.log("componentsRoute",e),a.state.user?l.a.createElement(z,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.componentsDetailRoute=function(e){return console.log("componentsDetailRoute",e),a.state.user?l.a.createElement(Q,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.componentsCreateRoute=function(e){return console.log("componentsCreateRoute",e),a.state.user?l.a.createElement(te,Object.assign({user:a.state.user},e)):l.a.createElement(u.a,{to:"/"})},a.templatesRoute=function(e){return console.log("templatesRoute",e),a.state.user?l.a.createElement(H,e):l.a.createElement(u.a,{to:"/"})},a.templatesCreateRoute=function(e){return console.log("templatesCreateRoute",e),a.state.user?l.a.createElement(oe,e):l.a.createElement(u.a,{to:"/"})},a.templatesEditRoute=function(e){return console.log("templatesEditRoute",e),a.state.user?l.a.createElement(oe,e):l.a.createElement(u.a,{to:"/"})},a.initCollectionSeeds=function(e){return f(e.match.params.collection,e.match.params.password),l.a.createElement(u.a,{to:"/"})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(k,{user:this.state.user,setUser:this.setUser}),l.a.createElement("div",{className:"AppMenuSpace"}),l.a.createElement("div",{style:{margin:"0 10px"}},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",render:function(t){return l.a.createElement(U,Object.assign({},t,{setUser:e.setUser}))}}),l.a.createElement(u.b,{exact:!0,path:"/signup",render:function(t){return l.a.createElement(U,Object.assign({},t,{setUser:e.setUser,showSignup:!0}))}}),l.a.createElement(u.b,{exact:!0,path:"/login",render:function(t){return l.a.createElement(U,Object.assign({},t,{setUser:e.setUser,showLogin:!0}))}}),l.a.createElement(u.b,{exact:!0,path:"/projects",render:this.projectsRoute}),l.a.createElement(u.b,{exact:!0,path:"/projects/create",render:this.projectsCreateRoute}),l.a.createElement(u.b,{exact:!0,path:"/projects/:id",render:this.projectsDetailRoute}),l.a.createElement(u.b,{exact:!0,path:"/projects/assign/:id",render:this.projectsAssignRoute}),l.a.createElement(u.b,{exact:!0,path:"/components",render:this.componentsRoute}),l.a.createElement(u.b,{exact:!0,path:"/components/create",render:this.componentsCreateRoute}),l.a.createElement(u.b,{exact:!0,path:"/components/createwt",render:this.componentsCreateWTRoute}),l.a.createElement(u.b,{exact:!0,path:"/components/:id",render:this.componentsDetailRoute}),l.a.createElement(u.b,{exact:!0,path:"/templates",render:this.templatesRoute}),l.a.createElement(u.b,{exact:!0,path:"/templates/create",render:this.templatesCreateRoute}),l.a.createElement(u.b,{exact:!0,path:"/templates/:id",render:this.templatesEditRoute}),l.a.createElement(u.b,{exact:!0,path:"/init/:collection/:password",render:this.initCollectionSeeds}))),l.a.createElement("div",{className:"AppFooterSpace"}),l.a.createElement(S,{user:this.state.user}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(100);d.a.get("/api/auth/loggedin").then((function(e){var t=e.data;s.a.render(l.a.createElement(ue.a,null,l.a.createElement(pe,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[158,1,2]]]);
//# sourceMappingURL=main.96cc3f95.chunk.js.map